---
description:
globs:
alwaysApply: false
---
# PROJECT GUIDELINES

## ğŸ§ª MANDATORY: Test-Driven Development (TDD)

**ALL development work MUST follow TDD methodology** - see [tdd-methodology.mdc](mdc:.cursor/rules/tdd-methodology.mdc) for complete guidelines.

### **TDD Red-Green-Refactor Cycle Required:**
1. **RED**: Write failing tests first - `git commit -m "test: add failing tests for X"`
2. **GREEN**: Minimal code to pass tests - `git commit -m "feat: implement X"`  
3. **REFACTOR**: Improve code quality - `git commit -m "refactor: optimize X"`

### **No Production Code Without Tests:**
- âŒ **NEVER** write implementation before tests
- âœ… **ALWAYS** start with comprehensive failing tests
- âœ… **COMMIT** after each TDD phase
- âœ… **VERIFY** tests actually fail initially

## ğŸ”„ Enhanced Git Workflow Requirements

### **Frequent Commit Strategy** 
- **Every TDD Phase**: Commit after RED, GREEN, and REFACTOR phases
- **Every Test File**: Immediate commit when creating new test files
- **Every Bug Fix**: Commit test that reproduces bug, then commit fix
- **Every Feature**: Multiple commits throughout TDD cycle
- **Every Refactor**: Commit improvements while keeping tests green

### **Commit Message Conventions**
```bash
# TDD-focused commit messages
test: add comprehensive API tests for institution search
feat: implement institution search with pagination  
fix: resolve SQLite compatibility issues in search
refactor: extract common validation patterns
docs: update API documentation for search endpoints
```

### **Commit Frequency Goals**
- âœ… **Multiple commits per hour** during active development
- âœ… **Small, focused commits** (single responsibility)
- âœ… **Clear progression** showing TDD methodology
- âœ… **Working code** at every commit (GREEN state)

### **Before ANY Commit - Quality Gates**
- [ ] All tests passing âœ…
- [ ] TypeScript compilation clean âœ…
- [ ] No console errors âœ…
- [ ] Hebrew text requirements met âœ…
- [ ] TDD cycle phase completed âœ…

## ğŸ‡®ğŸ‡± Hebrew Language Requirements

### User-Facing Text
- **ALL user-visible text must be in Hebrew**
- **Page titles, headings, buttons, form labels**: Hebrew only
- **Error messages, success messages, notifications**: Hebrew only
- **Navigation menus, tooltips, help text**: Hebrew only
- **Landing page content, onboarding steps**: Hebrew only

### RTL Layout Support
- **Direction**: `dir="rtl"` on HTML root elements
- **Text Alignment**: Default right-aligned for Hebrew text
- **Layout Mirroring**: Icons, buttons, and navigation elements mirrored for RTL
- **Tailwind RTL**: Use `rtl:` prefix for RTL-specific styles

### What Stays in English
- âœ… **Code**: Variables, functions, classes, APIs
- âœ… **Comments**: All code comments and documentation
- âœ… **File Names**: All files and directories
- âœ… **Git Messages**: Commit messages and branch names
- âœ… **Technical Documentation**: Architecture docs, README files
- âœ… **Database**: Table names, column names, constraints
- âœ… **Tests**: Test descriptions and test code

## ğŸ“ Implementation Examples

### Hebrew Text in Components
```jsx
// âœ… DO: Hebrew user-facing text
<button className="bg-blue-600 text-white">
  ×”×ª×—×œ ××ª ×”××¡×¢ ×©×œ×š â†
</button>

<h1 className="text-4xl font-bold">
  ××¦× ××ª ×”××¡×œ×•×œ ×”××§×“××™ ×”××•×©×œ×
</h1>

// âŒ DON'T: English user-facing text
<button className="bg-blue-600 text-white">
  Start Your Journey â†’
</button>
```

### RTL Layout Support
```jsx
// âœ… DO: RTL-aware layout
<div className="text-right rtl:text-right ltr:text-left">
  <h2 className="text-2xl mb-4">×›×•×ª×¨×ª ×‘×¢×‘×¨×™×ª</h2>
  <p className="text-gray-600">×ª×•×›×Ÿ ×‘×¢×‘×¨×™×ª ×¢× ×™×™×©×•×¨ × ×›×•×Ÿ</p>
</div>

// âœ… DO: Mirrored icons for RTL
<ArrowLeftIcon className="w-5 h-5 rtl:rotate-180" />
```

### Form Labels and Validation
```jsx
// âœ… DO: Hebrew form elements
<label htmlFor="psychometric" className="block text-sm font-medium text-gray-700">
  ×¦×™×•×Ÿ ×¤×¡×™×›×•××˜×¨×™
</label>
<input
  type="number"
  id="psychometric"
  placeholder="×”×›× ×¡ ×¦×™×•×Ÿ (200-800)"
  className="w-full px-4 py-2 border rounded-lg"
/>

// Error messages in Hebrew
{errors.psychometric && (
  <p className="text-red-500 text-sm mt-1">
    × × ×œ×”×›× ×™×¡ ×¦×™×•×Ÿ ×¤×¡×™×›×•××˜×¨×™ ×ª×§×™×Ÿ
  </p>
)}
```

## ğŸ¨ Style Guide Updates for Hebrew

### Typography
- **Primary Font**: `'Heebo', 'Assistant', 'Rubik', system-ui, sans-serif` for Hebrew
- **English Fallback**: `Inter, system-ui, sans-serif` for technical text
- **Line Height**: Increased for Hebrew text readability (`leading-relaxed`)

### Spacing for Hebrew
- **Letter Spacing**: Standard for Hebrew (no extra spacing)
- **Word Spacing**: Default browser spacing for Hebrew
- **Paragraph Spacing**: Extra spacing between Hebrew paragraphs

### Component Modifications
- **Buttons**: Text alignment and padding adjusted for Hebrew
- **Cards**: Header alignment and content flow for RTL
- **Forms**: Label placement and validation message positioning

## ğŸ“‹ TDD-Enhanced Commit Workflow

1. **Start TDD Cycle**: Write failing tests first
2. **RED Commit**: `git add tests/ && git commit -m "test: add failing tests for X"`
3. **Implement Minimal Code**: Make tests pass
4. **GREEN Commit**: `git add . && git commit -m "feat: implement X"`
5. **Refactor** (if needed): Improve code while keeping tests green
6. **REFACTOR Commit**: `git add . && git commit -m "refactor: optimize X"`
7. **Push** (if remote configured): `git push origin main`

## ğŸ” Enhanced Quality Checklist

Before any commit, verify:
- [ ] **TDD cycle completed** (RED-GREEN-REFACTOR)
- [ ] **All tests passing** âœ…
- [ ] **Test coverage maintained** âœ…
- [ ] All user-facing text is in Hebrew
- [ ] RTL layout works correctly
- [ ] Hebrew fonts load properly
- [ ] No English text visible to users
- [ ] Code and comments remain in English
- [ ] File names and structure in English
- [ ] TypeScript compilation clean
- [ ] No console errors

## ğŸ¯ Success Metrics

### **Development Quality Indicators:**
- âœ… **Frequent commits** (multiple per hour during active development)
- âœ… **Clear TDD progression** in git history
- âœ… **Fast test suite** (< 30 seconds)
- âœ… **High test coverage** (>90% for critical paths)
- âœ… **Working software** at every commit
- âœ… **Confident refactoring** enabled by comprehensive tests

---
*TDD methodology and frequent commits are mandatory for all development work. See [tdd-methodology.mdc](mdc:.cursor/rules/tdd-methodology.mdc) for detailed guidelines.*
